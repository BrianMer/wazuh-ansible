nodes:
  # Elasticsearch server nodes
  elasticsearch:
## 732 this will change to indexer:
{% for (key,value) in instances.items() %}
{% if (value.role is defined and value.role == 'indexer') %}
    name: {{ value.name }}
    ip: {{ value.ip }}
{% endif %}
{% endfor %}

  # Wazuh server nodes
  # Use node_type only with more than one Wazuh manager
  wazuh_servers:
{% for (key,value) in instances.items() %}
{% if (value.role is defined and value.role == 'wazuh') %}
    name: {{ value.name }}
    ip: {{ value.ip }}
{% endif %}
{% if (value.node_type is defined and value.node_type == 'master') %}
    node_type: master
{% elif (value.node_type is defined and value.node_type == 'worker') %}
    node_type: worker
{% endif %}
{% endfor %}

  # Kibana node
  kibana:
## 732 this will change to dashboard:
{% for (key,value) in instances.items() %}
{% if (value.role is defined and value.role == 'dashboard') %}
    name: {{ value.name }}
    ip: {{ value.ip }}
{% endif %}
{% endfor %}
